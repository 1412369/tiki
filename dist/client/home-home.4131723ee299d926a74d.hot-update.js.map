{"version":3,"sources":["webpack:///./packages/src/routes/home/home.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAGA,IAAM,IAAI,GAAG,SAAP,IAAO,CAAC,CAAD,EAAc;AACnB;AAAA,MAAC,aAAD;AAAA,MAAQ,eAAR;;AACA;YAAA;;AAAA;AAAA,MAAC,gBAAD;AAAA,MAAW,mBAAX;;AAIA;AAAA,MAAC,aAAD;AAAA,MAAQ,gBAAR;;AACE;AAAA,MAAS,iBAAT;AAAA,MAAe,yBAAf;AACA;AACR,MAAM,cAAc,GAAG,kDACrB,UAAC,CAAD,EAAI,CAAJ,EAAK;;;AACH,QAAI,QAAQ,CAAC,OAAT,CAAoB,CAAC,MAAD,GAAK,CAAzB,CAAJ,EAAmC;AACjC,iBAAW,uBACN,QADM,GACE;AACX,eAAO,wBACF,QAAQ,CAAC,OADP,IACc,YACf,CAAC,MAAD,GAAK,CADU,IACJ,IADI,EACA,EAFd,EADI;AAKX,aAAK,EAAE,QAAQ,CAAC,KAAT,GAAiB;AALb,OADF,EAAX;AAQD,KATD,MASO;AACL,UAAI,QAAQ,CAAC,KAAT,KAAmB,CAAvB,EAA0B;AACxB,eAAO,KAAK,CAAC,kBAAD,CAAZ;AACD;;AACD,iBAAW,uBACN,QADM,GACE;AACX,eAAO,wBACF,QAAQ,CAAC,OADP,IACc,YACf,CAAC,MAAD,GAAK,CADU,IACJ,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CADI,EACS,EAFvB,EADI;AAKX,aAAK,EAAE,QAAQ,CAAC,KAAT,GAAiB;AALb,OADF,EAAX;AAQD;AACF,GAxBoB,EAyBrB,CAAC,QAAD,EAAW,KAAX,CAzBqB,CAAvB;AA2BA,MAAM,cAAc,GAAG,8CACrB;AACE,WAAO,MAAM,CAAC,IAAP,CAAY,QAAQ,CAAC,OAArB,EAA8B,MAA9B,CAAqC,UAAC,OAAD,EAAU,IAAV,EAAc;AACxD,UAAM,MAAM,GAAG,QAAQ,CAAC,OAAT,CAAiB,IAAjB,CAAf;AACA,aAAO,CAAC,GAAR,CAAY,MAAZ,EAAoB,IAApB,EAA0B,QAA1B;;AACA,UAAI,MAAJ,EAAY;AACV,eAAO,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,IAAR,CAAJ,CAAkB,KAAnC;AACD;;AACD,aAAO,OAAP;AACD,KAPM,EAOJ,CAPI,CAAP;AAQD,GAVoB,EAWrB,CAAC,QAAD,CAXqB,CAAvB;AAaA,kDACE;AACE,eAAW,CAAC;AACV,WAAK,EAAE,CADG;AAEV,aAAO,EAAE;AAFC,KAAD,CAAX;AAID,GANH,EAOE,CAAC,KAAK,CAAC,OAAP,CAPF;AASA,SACE,oDAAC,0DAAD,EAAc,IAAd,EACE,oDAAC,uDAAD,EAAW,IAAX,EACE,qFADF,CADF,EAIE,oDAAC,+CAAD,EAAQ,aACF;AACF,kBAAc,gBADZ;AAEF,SAAK,OAFH;AAGF,WAAO,SAHL;AAIF,YAAQ;AAJN,GADE,CAAR,CAJF,EAYE,oDAAC,mDAAD,EAAY;AAAC,SAAK,EAAE,KAAR;AAAe,YAAQ,EAAE;AAAzB,GAAZ,CAZF,EAaE,oDAAC,8CAAD,EAAO;AAAC,QAAI,EAAE;AAAP,GAAP,CAbF,EAcE,oDAAC,YAAD,EAAa,IAAb,EACE,gEACG,KAAK,CAAC,GAAN,CAAU,UAAC,IAAD,EAAa;AACtB,WACE;AAAI,WAAK,EAAE;AAAE,aAAK,EAAE,mDAAM,CAAC,IAAD,CAAN;AAAT;AAAX,OACG,IADH,E,IAAA,EACW,IAAI,CAAC,IAAD,CAAJ,CAAW,KADtB,CADF;AAKD,GANA,CADH,CADF,CAdF,EAyBE,oDAAC,+CAAD,EAAQ;AAAC,YAAQ,EAAE,QAAX;AAAqB,kBAAc,EAAE;AAArC,GAAR,CAzBF,EA0BE,oDAAC,WAAD,EAAY,IAAZ,EACE;AAAK,aAAS,EAAC;AAAf,KACE,kEAAO,QAAQ,CAAC,IAAhB,CADF,EAEE,kEACG,QAAQ,CAAC,KADZ,E,KAAA,EACsB,QAAQ,CAAC,GAD/B,CAFF,CADF,EAOE;AAAK,aAAS,EAAC;AAAf,KAA8B,cAA9B,CAPF,CA1BF,EAmCE,oDAAC,iDAAD,EAAU;AACR,kBAAc,EAAE;AACd,UAAM,MAAM,GAAG,OAAO,CAAC,YAAR,CAAqB,MAAM,CAAC,IAAP,CAAY,QAAQ,CAAC,OAArB,CAArB,CAAf;AACA,aAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,MAAvB;AACD;AAJO,GAAV,CAnCF,CADF;AA4CD,CAtGD;;AAuGe,mEAAf,E","file":"home-home.4131723ee299d926a74d.hot-update.js","sourcesContent":["import { COLORS } from '@src/configs';\nimport * as React from 'react';\nimport { PayInfo, PayAction, ScaleButton, Status, Tickets } from './childs';\nimport { HomeContainer, MovieTitle } from './home.styled';\nimport { useAppContext } from '../../context/app.context';\n\ntype IHomeProps = {};\nconst Home = (_: IHomeProps) => {\n  const [state, actions] = useAppContext();\n  const [selected, setSelected]: [any, any] = React.useState({\n    total: 0,\n    tickets: {},\n  });\n  const [scale, setScale] = React.useState(false);\n  const { tickets, meta, location } = state;\n  const { types } = meta;\n  const onTicketSelect = React.useCallback(\n    (i, j) => {\n      if (selected.tickets[`${i}_${j}`]) {\n        setSelected({\n          ...selected,\n          tickets: {\n            ...selected.tickets,\n            [`${i}_${j}`]: null,\n          },\n          total: selected.total - 1,\n        });\n      } else {\n        if (selected.total === 6) {\n          return alert('max tickets pick');\n        }\n        setSelected({\n          ...selected,\n          tickets: {\n            ...selected.tickets,\n            [`${i}_${j}`]: tickets[i][j],\n          },\n          total: selected.total + 1,\n        });\n      }\n    },\n    [selected, state]\n  );\n  const calculatePrice = React.useMemo(\n    () => {\n      return Object.keys(selected.tickets).reduce((results, item) => {\n        const ticket = selected.tickets[item];\n        console.log(ticket, item, selected);\n        if (ticket) {\n          return results + meta[ticket.type].price;\n        }\n        return results;\n      }, 0);\n    },\n    [selected]\n  );\n  React.useEffect(\n    () => {\n      setSelected({\n        total: 0,\n        tickets: {},\n      });\n    },\n    [state.tickets]\n  );\n  return (\n    <HomeContainer>\n      <MovieTitle>\n        <h2>Mắt biếc</h2>\n      </MovieTitle>\n      <Tickets\n        {...{\n          onTicketSelect,\n          scale,\n          tickets,\n          selected,\n        }}\n      />\n      <ScaleButton scale={scale} setScale={setScale} />\n      <Status meta={meta} />\n      <TicketStatus>\n        <ul>\n          {types.map((item: string) => {\n            return (\n              <li style={{ color: COLORS[item].default }}>\n                {item}: {meta[item].price}\n              </li>\n            );\n          })}\n        </ul>\n      </TicketStatus>\n      <PayInfo location={location} calculatePrice={calculatePrice} />\n      <PaymentInfo>\n        <div className=\"movie-time\">\n          <span>{location.name}</span>\n          <span>\n            {location.start} | {location.end}\n          </span>\n        </div>\n        <div className=\"movie-total\">{calculatePrice}</div>\n      </PaymentInfo>\n      <PayAction\n        onPaymentClick={() => {\n          const result = actions.applyTickets(Object.keys(selected.tickets));\n          console.log('results', result);\n        }}\n      />\n    </HomeContainer>\n  );\n};\nexport default Home;\n"],"sourceRoot":""}